<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto</title>
    <link rel="icon" href="../Imágenes/LogoDEM2.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/Contacto.css">
</head>
<header>
    <nav>
        <div class="div_logo">
            <img src="../Imágenes/LogoDEM.png" alt="Imagen logo" class="img_logo" id="menu" onclick="abrirMenu()">
        </div>
        <p>"OpenAI"</p>

        <div class="enlaces_apartados">
            <hr>
            <div class="div_enlaces_visibles">
                <a href="../html/PagArticulos.html">"Artículos"</a>
            </div>
            <hr>
            <div class="div_enlaces_visibles">
                <a href="../html/Contacto.html">"Contacto"</a>
            </div>
            <hr>
            <div class="div_enlaces_visibles">
                <a href="../html/Otros.html">"Otros"</a>
            </div>
            <div class="div_enlace_oculto">
                <a class="menu_oculto" onclick="abrirMenuFlecha()">
                    <img class="img_menu_oculto" id="img_flecha" src="../Imágenes/flechaAbajo.png" alt="Menú">
                </a>
            </div>
        </div>
    </nav>

    <div id="enlacesAdicionales" class="enlaces_adicionales">
        <a href="../html/PagArticulos.html">Artículos</a>
        <a href="../html/Contacto.html">Contacto</a>
        <a href="../html/Otros.html">Otros</a>
    </div>

    <!-- --- MENÚ LATERAL --- -->

    <div class="menu" id="menu_lateral">
        <div class="div_titulo_menulateral">
            <h2 id="titulo">DEM</h2>
        </div>
        <div class="div_enlaces_menulateral" onclick="redirigirEnlace()">
            <a href="../index.html" id="enlaces">OpenAI</a>
        </div>
        <div class="div_enlaces_menulateral" onclick="redirigirEnlace()">
            <a href="../html/ChatGPT.html" id="enlaces">ChatGPT</a>
        </div>
        <div class="div_enlaces_menulateral" onclick="redirigirEnlace()">
            <a href="../html/Wall-E.html" id="enlaces">Wall-E</a>
        </div>
    </div>

    <script>
        function abrirMenuFlecha() {
            const menu = document.getElementById("enlacesAdicionales");
            const flecha = document.getElementById("img_flecha");

            menu.classList.toggle("show");
            flecha.classList.toggle("rotate");
        }

        let menuAbierto = false; // Variable para rastrear si el menú está abierto o cerrado

        function abrirMenu() {
            let menuLateral = document.getElementById("menu_lateral");
            let titulo = document.getElementById("titulo");
            let enlaces = document.querySelectorAll("#menu_lateral a");

            if (!menuAbierto) {
                // Abrir menú
                menuLateral.style.width = "275px";
                titulo.style.transform = "translateX(0)";
                enlaces.forEach(function (enlace) {
                    enlace.style.transform = "translateX(0)";
                });
                menuAbierto = true; // Cambiar estado
            } else {
                // Cerrar menú
                menuLateral.style.width = "0";
                titulo.style.transform = "translateX(-300px)";
                enlaces.forEach(function (enlace) {
                    enlace.style.transform = "translateX(-300px)";
                });
                menuAbierto = false; // Cambiar estado
            }
        }

        function redirigirEnlace() {
            abrirMenu();
        }
    </script>
</header>

<body>
    <a href="../index.html"><img class="img_atras" src="../Imágenes/atras.png" alt="Imagen para volver a inicio"></a>

    <h1>Contáctanos</h1>

    <div class="rellenar_contacto">
        <div class="flex_campos">
            <input type="text" placeholder="Nombre" id="nombreForm" required>
            <input type="text" placeholder="Apellidos" id="apellidos" required>
        </div>
        <div class="flex_campos">
            <input type="tel" placeholder="Teléfono (opcional)" id="telefono" maxlength="12">
            <input type="email" placeholder="Correo electrónico" id="correo" required>
        </div>
        <textarea class="mensaje" placeholder="Escribe tu mensaje..." id="mensaje" required></textarea>
    </div>
    <div class="flex_botones">
        <button type="submit" onclick="enviarMensaje();">ENVIAR</button>
        <button type="submit" onclick="limpiarCampos();">LIMPIAR</button>
    </div>

</body>

<footer>
    <hr>
    <div class="perfil-container">
        <div class="div_contacto">
            <img class="img_logo_footer" src="../Imágenes/LogoDEM2.png" alt="Imagen logo">
            <div class="redesSociales">
                <a href="mailto:daniel.esteban20@educa.madrid.org" title="Correo"><img src="../Imágenes/correo.png"
                        alt="Imagen correo" class="imgRedesSociales"></a>
                <a href="https://www.linkedin.com/in/daniel-esteban-miranda-790504253/" target="_blank"
                    title="Linkedin"><img src="../Imágenes/linkedin.png" alt="Imagen Linkedin"
                        class="imgRedesSociales"></a>
                <a href="../Documentos/Daniel Esteban CV DAW (en curso).pdf" target="_blank" title="Currículum"><img
                        src="../Imágenes/cv.png" alt="Imagen CV" class="imgRedesSociales"></a>
                <a href="https://github.com/DanielEstebanM" target="_blank" title="Github"><img
                        src="../Imágenes/github.png" alt="Imagen Github" class="imgRedesSociales"></a>
            </div>
        </div>
        <div class="email-signup">
            <p><span>Suscríbete</span></p>
            <p class="p_suscripción">al boletín y disfruta de más ventajas:</p>
            <input type="text" id="nombre" placeholder="Nombre" required>
            <div>
                <input type="email" placeholder="Correo electrónico" id="correo" required>
                <button type="submit" onclick="mandarAlerta();">SUSCRIBIRSE</button>
            </div>
        </div>
        <script>
            function enviarMensaje() {
                // Obtener los valores de los campos
                const nombre = (document.getElementById("nombreForm").value).trim();
                const apellidos = (document.getElementById("apellidos").value).trim();
                const correo = (document.getElementById("correo").value).trim();
                const mensaje = (document.getElementById("mensaje").value).trim();
                const telefono = (document.getElementById("telefono").value).trim();
                let mensajeError = "";

                // Validación de campos obligatorios
                if (nombre == 0 || apellidos == 0 || correo == 0 || mensaje == 0) {
                    alert("Por favor, rellene todos los campos obligatorios.");
                    return;
                }

                // Validación del teléfono (opcional)
                const telefonoRegex = /^[0-9]{3} [0-9]{2} [0-9]{2} [0-9]{2}$/;
                if (telefono && !telefonoRegex.test(telefono)) {
                    document.getElementById("telefono").style.border = "2px solid red";
                    document.getElementById("telefono").style.boxShadow = "4px 4px red"; document.getElementById("telefono").style.boxShadow = "red";
                    document.getElementById("telefono").style.color = "red";
                    let tel = document.getElementById("telefono");

                    tel.addEventListener("mouseover", () => {
                        tel.style.transform = "translate(4px, 4px)";
                        tel.style.boxShadow = "0px 0px";
                        tel.style.cursor = "pointer";  // Cambiar el cursor para indicar interacción
                    });
                    tel.addEventListener("mouseout", () => {
                        tel.style.transform = "translate(0, 0)";
                        tel.style.boxShadow = "4px 4px red";  // Eliminar la sombra
                    });

                    mensajeError += "Por favor, cambie el teléfono respecto al formato: '123 45 67 89'.\n";
                } else {
                    document.getElementById("telefono").style.border = "2px solid black";
                    document.getElementById("telefono").style.boxShadow = "4px 4px";
                    document.getElementById("telefono").style.color = "black";
                }

                // Validación del correo electrónico
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(correo)) {
                    document.getElementById("correo").style.border = "2px solid red";
                    document.getElementById("correo").style.boxShadow = "4px 4px red";
                    document.getElementById("correo").style.color = "red";
                    let cor = document.getElementById("correo");

                    cor.addEventListener("mouseover", () => {
                        cor.style.transform = "translate(4px, 4px)";
                        cor.style.boxShadow = "0px 0px";
                        cor.style.cursor = "pointer";  // Cambiar el cursor para indicar interacción
                    });
                    cor.addEventListener("mouseout", () => {
                        cor.style.transform = "translate(0, 0)";
                        cor.style.boxShadow = "4px 4px red";  // Eliminar la sombra
                    });

                    mensajeError += "Por favor, ingresa un correo electrónico válido.\n";
                } else {
                    document.getElementById("correo").style.border = "2px solid black";
                    document.getElementById("correo").style.boxShadow = "4px 4px black";
                    document.getElementById("correo").style.color = "black";
                }

                // Mostrar mensajes de error si existen
                if (mensajeError) {
                    alert(mensajeError);
                    return; // Detiene la función si hay algún error
                }

                // Si todas las validaciones pasan
                alert("Muchas gracias por su feedback " + nombre + ".");
                window.location.href = "../index.html";
            }

            document.getElementById("telefono").addEventListener("input", function (e) {
                let input = e.target.value.replace(/\s+/g, "");
                if (input.length > 3 && input.length <= 5) {
                    input = `${input.slice(0, 3)} ${input.slice(3)}`;
                } else if (input.length > 5 && input.length <= 7) {
                    input = `${input.slice(0, 3)} ${input.slice(3, 5)} ${input.slice(5)}`;
                } else if (input.length > 7) {
                    input = `${input.slice(0, 3)} ${input.slice(3, 5)} ${input.slice(5, 7)} ${input.slice(7, 9)}`;
                }
                e.target.value = input;
            });

            function limpiarCampos() {
                document.getElementById("nombreForm").value = "";
                document.getElementById("apellidos").value = "";
                document.getElementById("correo").value = "";
                document.getElementById("mensaje").value = "";
                document.getElementById("telefono").value = "";

                document.getElementById("telefono").style.border = "2px solid black";
                document.getElementById("telefono").style.boxShadow = "4px 4px black";
                document.getElementById("telefono").style.color = "black";

                document.getElementById("correo").style.border = "2px solid black";
                document.getElementById("correo").style.boxShadow = "4px 4px black";
                document.getElementById("correo").style.color = "black";

                let tel = document.getElementById("telefono");

                tel.addEventListener("mouseover", () => {
                    tel.style.transform = "translate(4px, 4px)";
                    tel.style.boxShadow = "0px 0px black";
                    tel.style.cursor = "pointer";  // Cambiar el cursor para indicar interacción
                });
                tel.addEventListener("mouseout", () => {
                    tel.style.transform = "translate(0, 0)";
                    tel.style.boxShadow = "4px 4px black";  // Eliminar la sombra
                });

                let cor = document.getElementById("correo");
                cor.addEventListener("mouseover", () => {
                    cor.style.transform = "translate(4px, 4px)";
                    cor.style.boxShadow = "0px 0px black";
                    cor.style.cursor = "pointer";  // Cambiar el cursor para indicar interacción
                });
                cor.addEventListener("mouseout", () => {
                    cor.style.transform = "translate(0, 0)";
                    cor.style.boxShadow = "4px 4px black";  // Eliminar la sombra
                });
            }

            function mandarAlerta() {
                const nombreSuscriptor = document.getElementById("nombre").value.trim();
                const correoSuscriptor = document.getElementById("correo").value.trim();

                if (nombreSuscriptor && correoSuscriptor) {
                    alert("Gracias por inscribirte, " + nombreSuscriptor + "!");
                    window.location.href = "../index.html";       
                }
                else alert("Rellene todos los campos.");
            }
        </script>

    </div>
    <div class="footer_final">
        <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><span
                property="dct:title">Blog OpenAI</span> by <span property="cc:attributionName">Daniel Esteban</span> is
            licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1" target="_blank"
                rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-ND 4.0<img
                    style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                    src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt=""><img
                    style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                    src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt=""><img
                    style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                    src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt=""><img
                    style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
                    src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1" alt=""></a></p>
    </div>
</footer>

</html>